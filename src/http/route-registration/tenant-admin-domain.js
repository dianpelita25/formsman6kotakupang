import { registerTenantAdminApiRoutes } from '../routes/tenant-admin-api-routes.js';

export function registerTenantAdminDomainRoutes(app, deps) {
  const {
    tenantMiddleware,
    requireAuth,
    requireTenantAccessFromParam,
    jsonError,
    resolveRequestId,
    listTenantQuestionnaires,
    createTenantQuestionnaire,
    patchQuestionnaire,
    getTenantQuestionnaireVersions,
    getTenantQuestionnaireDraft,
    updateTenantQuestionnaireDraft,
    publishTenantQuestionnaireDraft,
    getTenantQuestionnaireResponses,
    exportTenantQuestionnaireResponsesCsv,
    getTenantQuestionnaireAnalyticsSummary,
    getTenantQuestionnaireAnalyticsDistribution,
    getTenantQuestionnaireAnalyticsTrend,
    normalizeAiMode,
    analyzeTenantQuestionnaireAi,
    findQuestionnaireByTenantAndSlug,
    getLatestTenantQuestionnaireAi,
    getAiPromptBundle,
    saveAiPromptDraft,
    publishAiPrompt,
    getAiPromptHistory,
  } = deps;

  registerTenantAdminApiRoutes(app, {
    tenantMiddleware,
    requireAuth,
    requireTenantAccessFromParam,
    jsonError,
    resolveRequestId,
    listTenantQuestionnaires,
    createTenantQuestionnaire,
    patchQuestionnaire,
    getTenantQuestionnaireVersions,
    getTenantQuestionnaireDraft,
    updateTenantQuestionnaireDraft,
    publishTenantQuestionnaireDraft,
    getTenantQuestionnaireResponses,
    exportTenantQuestionnaireResponsesCsv,
    getTenantQuestionnaireAnalyticsSummary,
    getTenantQuestionnaireAnalyticsDistribution,
    getTenantQuestionnaireAnalyticsTrend,
    normalizeAiMode,
    analyzeTenantQuestionnaireAi,
    findQuestionnaireByTenantAndSlug,
    getLatestTenantQuestionnaireAi,
    getAiPromptBundle,
    saveAiPromptDraft,
    publishAiPrompt,
    getAiPromptHistory,
  });
}
